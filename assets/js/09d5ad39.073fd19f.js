"use strict";(self.webpackChunksmgf_website=self.webpackChunksmgf_website||[]).push([[30],{8928:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var i=s(5893),a=s(1151);const t={title:"Examples",sidebar_position:3},r="Examples",l={id:"examples",title:"Examples",description:"drawing basic shapes",source:"@site/docs/examples.md",sourceDirName:".",slug:"/examples",permalink:"/smgf/docs/examples",draft:!1,unlisted:!1,editUrl:"https://github.com/superzazu/smgf/tree/master/docs/docs/examples.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Examples",sidebar_position:3},sidebar:"default",previous:{title:"Getting started",permalink:"/smgf/docs/getting-started"},next:{title:"API reference",permalink:"/smgf/docs/api"}},o={},c=[{value:"drawing basic shapes",id:"drawing-basic-shapes",level:2},{value:"displaying a texture",id:"displaying-a-texture",level:2},{value:"responding to user input",id:"responding-to-user-input",level:2},{value:"drawing onto a texture (offscreen rendering)",id:"drawing-onto-a-texture-offscreen-rendering",level:2},{value:"playing music and sound effects",id:"playing-music-and-sound-effects",level:2},{value:"save and load data from user computer",id:"save-and-load-data-from-user-computer",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h2,{id:"drawing-basic-shapes",children:"drawing basic shapes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function smgf.draw()\n  smgf.graphics.clear()\n  smgf.graphics.set_color(255, 0, 0)\n  smgf.graphics.draw_rect(5, 5, 10, 10)\n  smgf.graphics.set_color(0, 255, 0)\n  smgf.graphics.draw_rectfill(50, 50, 10, 10)\nend\n"})}),"\n",(0,i.jsx)(n.h2,{id:"displaying-a-texture",children:"displaying a texture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function smgf.init()\n  my_texture = smgf.graphics.new("my_image.png")\nend\n\nfunction smgf.draw()\n  smgf.graphics.clear()\n  smgf.graphics.draw(my_texture, 5, 5)\nend\n'})}),"\n",(0,i.jsx)(n.p,{children:'Note that "my_image.png" needs to be inside your game folder (alongside "main.lua").'}),"\n",(0,i.jsx)(n.h2,{id:"responding-to-user-input",children:"responding to user input"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local x, y = 10, 10\n\nfunction smgf.init()\n\nend\n\nfunction smgf.update(dt)\n\nend\n\nfunction smgf.draw()\n  smgf.graphics.clear()\n  smgf.graphics.set_color(255, 0, 0)\n  smgf.graphics.draw_rect(5, 5, 10, 10)\n  smgf.graphics.set_color(0, 255, 0)\n  smgf.graphics.draw_rect(x, y, 10, 10)\nend\n\nfunction smgf.key_down(key)\n  if key == "up" then\n    y = y - 1\n  elseif key == "down" then\n    y = y + 1\n  elseif key == "left" then\n    x = x - 1\n  elseif key == "right" then\n    x = x + 1\n  end\nend\n'})}),"\n",(0,i.jsx)(n.h2,{id:"drawing-onto-a-texture-offscreen-rendering",children:"drawing onto a texture (offscreen rendering)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"texture = nil\n\nfunction smgf.init()\n  -- creates a texture of 100x100 pixels\n  texture = smgf.graphics.new(100, 100)\n  -- all draw calls after this will be done on texture and not on screen\n  smgf.graphics.set_target(texture)\n  smgf.graphics.draw_rect(10, 10, 10, 10)\n  -- ...\n  smgf.graphics.set_target(nil)\nend\n\nfunction smgf.draw()\n  smgf.graphics.clear()\n  smgf.graphics.draw(texture, 0, 0)\n  smgf.graphics.draw_rect(20, 20, 20, 20)\nend\n"})}),"\n",(0,i.jsx)(n.h2,{id:"playing-music-and-sound-effects",children:"playing music and sound effects"}),"\n",(0,i.jsxs)(n.p,{children:["By default, smgf only supports ",(0,i.jsx)(n.code,{children:".ogg"})," and ",(0,i.jsx)(n.code,{children:".wav"})," files (this can be configured on build)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function smgf.init()\n  -- the sound effect is small, we want to predecode it all in memory:\n  sound = smgf.audio.new("sfx.wav", true)\n  -- the music sound file is bigger, we may want to stream it instead:\n  music = smgf.audio.new("music.ogg", false)\n\n  music:set_gain(0.5) -- between 0 (silence) and 2 (200%)\n  music:set_loop(true)\n  music:play()\nend\n\nfunction smgf.key_down(key)\n  if key == "return" then\n    sound:play()\n  end\nend\n'})}),"\n",(0,i.jsx)(n.h2,{id:"save-and-load-data-from-user-computer",children:"save and load data from user computer"}),"\n",(0,i.jsx)(n.p,{children:"You can save files on the user's computer. Depending on the user's OS, files will be stored here:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["macOS: ",(0,i.jsx)(n.code,{children:"~/Library/Application Support/<your-application-name>"})]}),"\n",(0,i.jsxs)(n.li,{children:["Linux: ",(0,i.jsx)(n.code,{children:"~/.local/share/<your-application-name>"})]}),"\n",(0,i.jsxs)(n.li,{children:["Windows: ",(0,i.jsx)(n.code,{children:"C:\\Users\\...\\AppData\\Roaming\\<your-organisation-name>\\<your-application-name>"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:['The "application name" and "organisation name" can be set in ',(0,i.jsx)(n.code,{children:"conf.lua"})," (preferred way) or directly in code by using ",(0,i.jsx)(n.code,{children:"smgf.system.set_identity()"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function smgf.init()\n  smgf.system.set_identity("my-super-organisation", "my-super-game")\n\n  local filename = "savestate.txt"\n\n  if smgf.io.exists(filename) then\n    local file = smgf.io.open(filename, "w")\n    file:write("hello world")\n    file:close()\n  else\n    local file = smgf.io.open(filename, "r")\n    local file_contents = file:read("all")\n    print(file_contents) -- hello world\n  end\nend\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>r});var i=s(7294);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);